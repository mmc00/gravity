<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Estimation Methods for Gravity Models • gravity</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Estimation Methods for Gravity Models">
<meta property="og:description" content="A wrapper of different standard estimation methods for gravity models. 
  This package provides estimation methods for log-log models and multiplicative models.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">gravity</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/crash-course-on-gravity-models.html">A crash course on gravity models</a>
    </li>
    <li>
      <a href="articles/creating-gravity-datasets.html">Creating gravity datasets</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/pachamaltese/gravity/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="gravity-" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#gravity-" class="anchor"></a>gravity <img src="https://pachamaltese.github.io/gravity/hexicon.svg" width="150" align="right" alt="sticker">
</h1></div>

<div id="about" class="section level2">
<h2 class="hasAnchor">
<a href="#about" class="anchor"></a>About</h2>
<p>Gravity models are used to explain bilateral flows related to the sizes of bilateral partners, a measure of distance between them and other influences on interaction costs.</p>
<p>The underlying idea is rather simple. The greater the masses of two bodies and the smaller the distance between them, the stronger their attraction. This concept is applied to several research topics such as trade, migration or foreign direct investment. Even though their basic idea is rather simple, gravity models can become complex regarding the choice of models or estimation methods.</p>
<p>As especially for gravity beginners it is difficult to get an overview of the different methods and implement them in R, the package provides a wrapper of different standard estimation methods for gravity models. By considering the descriptions and codes of the estimation methods, users get a comprehensive and application-oriented overview of the different methods, see which method may be suitable for a certain research question or type of data and extend the code available to their research projects.</p>
<p>The package provides estimation methods for log-log models and multiplicative models.</p>
<p>Log-log estimation covers:</p>
<ul>
<li>Ordinary Least Squares (OLS)</li>
<li>Fixed Effects</li>
<li>Double Demeaning (DDM)</li>
<li>Bonus vetus OLS with simple averages (BVU) and with GDP-weights (BVW)</li>
<li>Structural Iterated Least Squares (SILS)</li>
<li>Tetrads</li>
<li>Different Tobit models (Tobit, ET-Tobit, EK-Tobit)</li>
</ul>
<p>Log-log models are partly complex to understand and program and thus a comparison of them is not straightforward, wherefore the package aims at easing an overview of the different methods combined with a direct application.</p>
<p>Multiplicative estimation covers:</p>
<ul>
<li>Poisson Pseudo Maximum Likelihood (PPML)</li>
<li>Gamma Pseudo Maximum Likelihood (GPML)</li>
<li>Negative Binomial Pseudo Maximum Likelihood (NBPML)</li>
<li>Nonlinear Least Squares (NLS)</li>
</ul>
<p>Multiplicative models are covered with a log-link and different families of distributions. These models are relatively easy to compute.</p>
<p>All functions named estimate gravity models, but they differ in whether they estimate them in their additive or multiplicative form, their requirements and assumptions with respect to data, their handling of Multilateral Resistance terms as well as their possibilities concerning the inclusion of unilateral independent variables. Therefore, they normally lead to different estimation results. We refer the user to the <a href="https://sites.google.com/site/hiegravity/">Gravity Cookbook website</a> for more information on gravity models in general.</p>
<p>Head and Mayer (2014) provide a comprehensive and accessible overview of the theoretical and empirical development of the gravity literature as well as the use of gravity models and the various estimation methods, especially their merits and potential problems regarding applicability as well as different datasets. In order to have a straightforward application of all methods, the package comes with two example datasets, one including and the other one excluding zero trade flows.</p>
<p>Examples utilizing these dataset are included in the description of the methods. As the range of gravity models and their suitable estimation methods is huge and specific to data and research question at hand, the functions are kept simple such that researchers can utilize them as a starting point of their research and get familiar with them.</p>
<p>On the <a href="https://sites.google.com/site/hiegravity/">Gravity Cookbook website</a>, Keith Head and Thierry Mayer provide Stata code for most methods. Where possible, the functions are tested to lead the same results as the Stata code when choosing the option of robust variance estimation. However, compared to the Stata code available, the functions presented in this package provide users with more flexibility regarding the type of estimation, the number and type of independent variables as well as the possible data.</p>
<p>Furthermore, additional functions are added. The functions of the package include distance as an independent variable. If a panel model is used time-invariant effects, such as geographical distance, may have to be excluded; see the respective descriptions. Therefore, it is up to the user to ensure that the functions can be applied to panel data.</p>
<p>Depending on the panel dataset and the variables - specifically the type of fixed effects - included in the model, it may easily occur that the model is not computable.</p>
<p>Depending on the specific model, the code of the respective function may has to be changed in order to exclude the distance variable from the estimation.</p>
<p>For a state-of-the-art exposition about cross-sectional data see Wölwer, Breßlein, and Burgard (2018), and for a comprehensive overview of gravity models for panel data see Egger and Pfaffermayr (2003), Gómez-Herrera (2013) and Head, Mayer, and Ries (2010) as well as the references therein (see also the references included in the descriptions of the different functions).</p>
<p>At the very least, the user should take special care with respect to the meaning of the estimated coefficients and variances as well as the decision about which effects to include in the estimation. As, to our knowledge at the moment, there is no explicit literature covering the estimation of a gravity equation by Double Demeaning, Structural Iterated Least Squares or Bonus vetus OLS using panel data, we do not recommend to apply these methods in this case.</p>
<p>Contributions, extensions and error corrections are very welcome. Please do not hesitate to contact us. We thank Martin Bresslein for valuable comments and advice on early versions of the package.</p>
</div>
<div id="how-to-install" class="section level2">
<h2 class="hasAnchor">
<a href="#how-to-install" class="anchor"></a>How to install</h2>
<p>From R console:</p>
<div class="sourceCode" id="cb1"><pre class="r"><span class="co"># Install from CRAN</span>
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"gravity"</span>)

<span class="co"># Install from GitHub</span>
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"pachamaltese/gravity"</span>)</pre></div>
</div>
<div id="community-guidelines" class="section level2">
<h2 class="hasAnchor">
<a href="#community-guidelines" class="anchor"></a>Community guidelines</h2>
<p>If you want to contribute to the software, report issues or problems with the software, please fork the repo and send us a Pull Request or open an issue. We are happy to receive ideas and we would do our best to coordinate efforts and improve this package without reinventing the wheel.</p>
<p>If you seek support or have questions you can start a thread on the issues section, or you can email us but we prefer open issues as probably more users have the same questions as you.</p>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-Egger2003">
<p>Egger, Peter, and Michael Pfaffermayr. 2003. “The Proper Panel Econometric Specification of the Gravity Equation: A Three-Way Model with Bilateral Interaction Effects.” <em>Empirical Economics</em> 28 (3): 571–80. <a href="https://doi.org/10.1007/s001810200146" class="uri">https://doi.org/10.1007/s001810200146</a>.</p>
</div>
<div id="ref-Gomez-Herrera2013">
<p>Gómez-Herrera, Estrella. 2013. “Comparing Alternative Methods to Estimate Gravity Models of Bilateral Trade.” <em>Empirical Economics</em> 44 (3): 1087–1111. <a href="https://doi.org/10.1007/s00181-012-0576-2" class="uri">https://doi.org/10.1007/s00181-012-0576-2</a>.</p>
</div>
<div id="ref-Head2014">
<p>Head, Keith, and Thierry Mayer. 2014. “Chapter 3 - Gravity Equations: Workhorse,Toolkit, and Cookbook.” In <em>Handbook of International Economics</em>, edited by Gita Gopinath, Elhanan Helpman, and Kenneth Rogoff, 4:131–95. Handbook of International Economics. Elsevier. <a href="https://doi.org/10.1016/B978-0-444-54314-1.00003-3" class="uri">https://doi.org/10.1016/B978-0-444-54314-1.00003-3</a>.</p>
</div>
<div id="ref-Head2010">
<p>Head, Keith, Thierry Mayer, and John Ries. 2010. “The Erosion of Colonial Trade Linkages After Independence.” <em>Journal of International Economics</em> 81 (1): 1–14. <a href="https://doi.org/10.1016/j.jinteco.2010.01.002" class="uri">https://doi.org/10.1016/j.jinteco.2010.01.002</a>.</p>
</div>
<div id="ref-WoelwerBressleinBurgard2018">
<p>Wölwer, Anna-Lena, Martin Breßlein, and Jan Pablo Burgard. 2018. “Gravity Models in R.” <em>Austrian Journal of Statistics</em> 47 (4): 16–35. <a href="https://doi.org/10.17713/ajs.v47i4.688" class="uri">https://doi.org/10.17713/ajs.v47i4.688</a>.</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=gravity">https://​cloud.r-project.org/​package=gravity</a>
</li>
<li>Browse source code at <br><a href="https://github.com/pachamaltese/gravity/">https://​github.com/​pachamaltese/​gravity/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/pachamaltese/gravity/issues">https://​github.com/​pachamaltese/​gravity/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Anna-Lena Woelwer <br><small class="roles"> Author, copyright holder </small>  </li>
<li>Jan Pablo Burgard <br><small class="roles"> Author, copyright holder </small>  </li>
<li>Joshua Kunst <br><small class="roles"> Author, copyright holder </small>  </li>
<li>Mauricio Vargas <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0003-1017-7574" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.repostatus.org/#active"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#stable"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://github.com/pachamaltese/gravity/actions"><img src="https://github.com/pachamaltese/gravity/workflows/check-windows/badge.svg" alt="GH-actions Windows"></a></li>
<li><a href="https://github.com/pachamaltese/gravity/actions"><img src="https://github.com/pachamaltese/gravity/workflows/check-linux/badge.svg" alt="GH-actions Linux"></a></li>
<li><a href="https://cran.r-project.org/package=gravity"><img src="https://www.r-pkg.org/badges/version/gravity" alt="CRAN status"></a></li>
<li><a href="https://codecov.io/github/pachamaltese/gravity?branch=master"><img src="https://codecov.io/gh/pachamaltese/gravity/branch/master/graph/badge.svg" alt="Coverage status"></a></li>
<li><a href="https://doi.org/10.21105/joss.01038"><img src="http://joss.theoj.org/papers/10.21105/joss.01038/status.svg" alt="JOSS"></a></li>
<li><a href="https://doi.org/10.17713/ajs.v47i4.688"><img src="https://zenodo.org/badge/doi/10.17713/ajs.v47i4.688.svg" alt="Austrian Journal of Statistics"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Anna-Lena Woelwer, Jan Pablo Burgard, Joshua Kunst, Mauricio Vargas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
